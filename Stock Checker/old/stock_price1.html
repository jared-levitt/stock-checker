<!DOCTYPE html>
<html>
<head>
    <title>Stock Price Update</title>
    <style>
        .ascii-art {
            font-family: monospace;
            font-size: 24px;
            white-space: pre-wrap;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Stock Price Update</h1>
    <div class="ascii-art" id="stockPrice">{{ ascii_price }}</div>

    <script>
        // Function to fetch the stock price from the server
        function getStockPrice() {
            // Replace the URL with the local web server URL
            fetch('/stock-price')
                .then(response => response.text())
                .then(asciiPrice => {
                    // Update the stock price element with the received ASCII art
                    document.getElementById('stockPrice').innerHTML = asciiPrice;
                })
                .catch(error => {
                    console.error('Error retrieving stock price:', error);
                });
        }

        // Function to update the stock price immediately and every 5 seconds
        function updateStockPrice() {
            getStockPrice();
            setInterval(getStockPrice, 5000);
        }

        // Call the updateStockPrice function when the page loads
        window.onload = updateStockPrice;
    </script>
</body>
</html>
